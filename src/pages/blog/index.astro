---
// Component Imports
import PostCard from "../../components/PostCard.astro";
import MainLayout from "../../layouts/MainLayout.astro";

// utils imports
import { formatBlogPosts } from "../../js/utils";

const allPosts = Object.values(import.meta.glob("./*.md", { eager: true }));
const formattedPosts = formatBlogPosts(allPosts);
---

<MainLayout title="My blog">
    <section class="container" aria-label="New Blog Posts">
        <h1 class="h1">New Blog Posts</h1>
        <div class="post-container">
            {
                formattedPosts.map((post: any) => (
                    <PostCard
                        frontmatter={post.frontmatter}
                        url={post.url}
                        tagType="h2"
                    />
                ))
            }
        </div>
    </section>
</MainLayout>
